<mat-sidenav-container class="sidenav-container" autosize>
  <mat-sidenav #sidenav [mode]="mode" [opened]="isLargeScreen" class="sidenav"
    [ngClass]="{ 'sidenav-collapsed': collapsed }">
    <div class="sidenav-inner">
    <div class="logo-container">
      <button class="logo" (click)="toggleCollapse()" aria-label="Colapsar menú">M</button>
      <div class="logo-text" *ngIf="!collapsed">{{ username }} - {{ rol }}</div>
    </div>

    <mat-nav-list class="sidenav-nav">
      <ng-container *ngFor="let item of menuItems">
        <div class="section-title" *ngIf="item.kind === 'section'">
          {{ item.section }}
        </div>

        <a *ngIf="item.kind === 'item'" mat-list-item class="sidenav-nav-link" [routerLink]="item.route"
          routerLinkActive="active" [routerLinkActiveOptions]="{ exact: item.route === '/dashboard' }">
          <mat-icon matListItemIcon class="sidenav-link-icon">{{ item.icon }}</mat-icon>
          <span class="sidenav-link-text" *ngIf="!collapsed">{{ item.label }}</span>
        </a>
      </ng-container>
    </mat-nav-list>

    <div class="sidenav-footer">
      <button mat-button class="footer-btn" (click)="goHome()">
        <mat-icon>home</mat-icon>
        <span *ngIf="!collapsed">Ir al Inicio</span>
      </button>

      <button mat-button color="warn" class="footer-btn" (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span *ngIf="!collapsed">Cerrar Sesión</span>
      </button>
    </div>
    </div>
  </mat-sidenav>

  <mat-sidenav-content>
    <app-topbar></app-topbar>
    <div class="content-container">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>